<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<title>AI Signal App</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{
  background:#0f172a;
  color:#e5e7eb;
  font-family:Arial;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  margin:0;
}
.box{
  background:#020617;
  padding:20px;
  border-radius:12px;
  width:390px;
}
h2{text-align:center;margin-bottom:10px;}
.tabs{display:flex;margin-top:8px;}
.tab{
  flex:1;
  padding:8px;
  text-align:center;
  cursor:pointer;
  background:#020617;
  border:1px solid #334155;
}
.tab.active{
  background:#22c55e;
  color:#000;
}
select,button{
  width:100%;
  padding:10px;
  margin-top:10px;
  border:none;
  border-radius:6px;
}
button{
  background:#22c55e;
  font-size:18px;
  cursor:pointer;
}
.signal{
  margin-top:15px;
  text-align:center;
  font-size:17px;
  min-height:130px;
}
.timer{color:#38bdf8;font-size:20px;margin-top:5px;}
</style>
</head>

<body>
<div class="box">
<h2>AI SIGNAL</h2>

<select id="mode">
  <option value="safe">SAFE MODE</option>
  <option value="aggressive">AGGRESSIVE MODE</option>
</select>

<!-- ASSET -->
<div class="tabs">
  <div class="tab active" onclick="setAsset('forex', this)">FOREX</div>
  <div class="tab" onclick="setAsset('crypto', this)">CRYPTO</div>
</div>

<!-- MARKET -->
<div class="tabs">
  <div class="tab active" onclick="setMarket('live', this)">LIVE</div>
  <div class="tab" onclick="setMarket('otc', this)">OTC</div>
</div>

<select id="pair"></select>

<select id="expiry">
  <option value="5">5 sec</option>
  <option value="15">15 sec</option>
  <option value="30">30 sec</option>
  <option value="60" selected>60 sec</option>
  <option value="120">120 sec</option>
  <option value="180">180 sec</option>
</select>

<select id="confidence">
  <option value="60">Min 60%</option>
  <option value="70">Min 70%</option>
  <option value="80">Min 80%</option>
</select>

<button onclick="getSignal()">GET AI SIGNAL</button>

<div class="signal" id="result">—</div>
</div>

<script>
let asset="forex", market="live", last=[], timerInt=null;

/* PAIRS */
const pairs={
  forex:{
    live:["EUR/USD","GBP/USD","USD/JPY","EUR/JPY","GBP/JPY"],
    otc:["EUR/USD OTC","GBP/USD OTC","USD/JPY OTC","EUR/JPY OTC","GBP/JPY OTC"]
  },
  crypto:{
    live:["BTC/USD","ETH/USD","LTC/USD","XRP/USD"],
    otc:["BTC/USD OTC","ETH/USD OTC","LTC/USD OTC","XRP/USD OTC"]
  }
};

const stability={
  "EUR/USD":0.96,"GBP/USD":0.92,"USD/JPY":0.9,
  "EUR/JPY":0.91,"GBP/JPY":0.88,
  "BTC/USD":0.7,"ETH/USD":0.72,"LTC/USD":0.65,"XRP/USD":0.6
};

function setAsset(a, el){
  asset=a;
  document.querySelectorAll(".tabs")[0].querySelectorAll(".tab")
    .forEach(t=>t.classList.remove("active"));
  el.classList.add("active");
  updatePairs();
}

function setMarket(m, el){
  market=m;
  document.querySelectorAll(".tabs")[1].querySelectorAll(".tab")
    .forEach(t=>t.classList.remove("active"));
  el.classList.add("active");
  updatePairs();
}

function updatePairs(){
  const s=document.getElementById("pair");
  s.innerHTML="";
  pairs[asset][market].forEach(p=>{
    let o=document.createElement("option");
    o.value=p;
    o.textContent=p;
    s.appendChild(o);
  });
}

function startTimer(sec){
  clearInterval(timerInt);
  let t=sec;
  const el=document.getElementById("timer");
  el.innerText="Enter in "+t+"s";
  timerInt=setInterval(()=>{
    t--;
    el.innerText=t<=0?"ENTER NOW":"Enter in "+t+"s";
    if(t<=0)clearInterval(timerInt);
  },1000);
}

function getSignal(){
  const raw=document.getElementById("pair").value;
  const pair=raw.replace(" OTC","");
  const expiry=+document.getElementById("expiry").value;
  const minConf=+document.getElementById("confidence").value;
  const mode=document.getElementById("mode").value;

  let bias=0;

  bias += expiry>=60 ? 2 : -1;
  bias += market==="live" ? 1 : -1;
  bias += asset==="forex" ? 1 : -1;
  bias *= stability[pair] || 0.7;
  bias += Math.random()-0.5;
  if(mode==="aggressive") bias*=1.2;

  if(Math.abs(bias)<1.2){
    result.innerHTML="⏳ NO TRADE";
    return;
  }

  const dir=bias>0?"⬆ CALL":"⬇ PUT";
  let conf=Math.min(94,Math.floor(70+Math.abs(bias)*12));

  if(conf<minConf){
    result.innerHTML="⏳ WAIT";
    return;
  }

  last.push(dir); if(last.length>5) last.shift();
  if(last.filter(d=>d===dir).length>=4){
    result.innerHTML="⏳ WAIT";
    return;
  }

  const delay=Math.floor(expiry*0.3);

  result.innerHTML=
    dir+"<br>"+
    "Pair: "+raw+"<br>"+
    "Confidence: "+conf+"%<br>"+
    "<div class='timer' id='timer'></div>";

  startTimer(delay);
}

updatePairs();
</script>
</body>
</html>



